/* ===== صفحه ===== */
.dh-page{ padding:16px; }
.dh-card{
  background:#fff; border:1px solid var(--line);
  border-radius:12px; padding:12px;
}

/* ===== فیلتر بالا ===== */
.dh-filter{
  border:1px solid var(--line); border-radius:12px;
  padding:10px; margin-bottom:10px; background:#fff;
}
.dh-filter .grid{ display:grid; grid-template-columns: repeat(5, minmax(0,1fr)); gap:10px; }
.dh-filter .item label{ display:block; font-size:12px; color:var(--sub); margin-bottom:4px; }
.dh-filter .item.apply .row{ display:flex; gap:8px; flex-wrap:wrap; }

/* ===== ابزار جدول ===== */
.table-toolbar{ display:flex; align-items:center; gap:8px; margin:6px 0 8px; }
.export-group{ display:flex; gap:8px; }

/* ===== رنگ ردیف‌ها ===== */
.row-in  td{ background:#f8fff7; }  /* ورود */
.row-out td{ background:#fff8f8; }  /* خروج */

/* ===== مودال‌های اختصاصی این صفحه (Alias سبک) =====
   NOTE: چون این کامپوننت از کلاس‌های dh-* استفاده می‌کند،
   اینجا فقط حداقل استایل لازم را می‌دهیم. (مودال عمومی در base.css موجود است) */
.dh-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.25);
  display:flex; align-items:center; justify-content:center; z-index:1200;
}
.dh-modal{
  width:min(960px, 96vw); max-height:90vh; overflow:auto;
  background:#fff; border:1px solid var(--line); border-radius:12px; padding:10px;
  box-shadow:0 20px 35px rgba(0,0,0,.15);
}
.dh-modal--small{ width:min(520px,92vw); }
.dh-modal__hdr{ display:flex; align-items:center; justify-content:space-between; padding:6px 4px 10px; }
.dh-modal__ftr{ display:flex; justify-content:flex-end; gap:8px; margin-top:10px; }
.dh-close{
  border:0; background:#fff; font-size:18px; cursor:pointer; border-radius:8px; padding:4px 8px;
}
.dh-close:hover{ background:#f3f4f6; }

/* ===== ریسپانسیو ===== */
@media (max-width: 900px){
  .dh-filter .grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
  thead{ display:none; }
  tbody td{ display:block; border-top:none; padding:8px 10px; }
  tbody tr{ display:block; border-top:1px solid var(--line); }
}
/* نوار دکمه‌های کشویی بالای فرم مودال */
.dh-drawers{
  display:flex; gap:6px; padding:6px 0 8px; border-bottom:1px dashed var(--line);
  margin-bottom:8px;
}
.dh-drawers .btn.is-on{
  border-color: var(--primary,#2563eb);
  box-shadow: 0 0 0 2px rgba(37,99,235,.12);
}

/* پنل کشویی داخل مودال */
.dh-drawer{
  overflow:hidden;
  max-height:0;
  opacity:.0;
  transform: translateY(-6px);
  transition: max-height .3s ease, opacity .25s ease, transform .25s ease;
  border:1px dashed var(--line);
  border-radius:10px;
  background:#fff;
  margin-bottom:10px;
}
.dh-drawer.is-open{
  max-height: 320px;   /* ارتفاع باز */
  opacity:1;
  transform: translateY(0);
}

.dh-drawer__hdr{
  display:flex; align-items:center; justify-content:space-between;
  padding:8px 10px; border-bottom:1px dashed var(--line);
}
.dh-drawer__search{ padding:8px 10px; }
.dh-drawer__list{
  max-height:220px; overflow:auto; padding:6px 8px;
}
.dh-drawer__row{
  width:100%; display:flex; align-items:center; justify-content:space-between;
  padding:6px 8px; border:1px solid var(--line); border-radius:8px; background:#fff;
  cursor:pointer; margin-bottom:6px;
}
.dh-drawer__row:hover{ background:var(--muted); }
:root{
  --line:#e5e7eb; --muted:#f3f4f6; --text:#111827;
  --primary:#2563eb; --success:#16a34a; --danger:#ef4444;
}

/* صفحه و کارت */
.dh-page{ padding:16px; }
.dh-card{
  background:#fff; border:1px solid var(--line);
  border-radius:12px; padding:12px;
}

/* نوار ابزار */
.dh-toolbar{ display:flex; gap:8px; align-items:center; margin-bottom:10px; }

/* سکشن‌ها */
.dh-section{ margin-top:12px; }
.dh-sec-hdr{
  display:flex; align-items:center; gap:8px;
  padding:8px 10px; border:1px dashed var(--line); border-radius:10px; background:#fafafa;
  cursor:pointer;
}
.dh-sec-hdr .muted{ margin-inline-start:4px; }
.chev{ margin-inline-start:auto; color:#6b7280; }

/* جدول */
.table-wrap{ margin-top:8px; overflow:auto; border:1px solid var(--line); border-radius:12px; }
table{ width:100%; border-collapse:separate; border-spacing:0; }
thead th{
  position:sticky; top:0; z-index:1;
  background:#f8fafc; border-bottom:1px solid var(--line);
  text-align:right; font-weight:600; padding:10px; font-size:13px; color:#111827;
}
tbody td{ padding:10px; border-top:1px solid var(--line); font-size:14px; }
tbody tr:hover{ background:#fafafa; }
tbody .empty{ text-align:center; color:#6b7280; padding:16px; }
td.ops{ display:flex; gap:6px; align-items:center; }

/* رنگ وضعیت ردیف */
tbody tr.ok td{ }
tbody tr.need-fix td{ background:#fff7ed; } /* کمی نارنجی کم‌رنگ برای نیاز به تعمیر */

/* جمع زیر هر سکشن */
.sum{ margin-top:6px; font-size:14px; }

/* دکمه‌ها و ورودی‌ها (پایه‌ها در base.css) */
.btn.small{ padding:6px 10px; font-size:13px; }

/* مدال‌ها */
.dh-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.25);
  display:flex; align-items:center; justify-content:center; z-index:1200;
}
.dh-modal{
  width:min(960px, 96vw); max-height:90vh; overflow:auto;
  background:#fff; border:1px solid var(--line); border-radius:12px; padding:10px;
  box-shadow:0 20px 35px rgba(0,0,0,.15);
}
.dh-modal--small{ width:min(520px,92vw); }
.dh-modal__hdr{
  display:flex; align-items:center; justify-content:space-between;
  padding:6px 4px 10px;
}
.dh-close{
  border:0; background:#fff; font-size:18px; cursor:pointer; border-radius:8px; padding:4px 8px;
}
.dh-close:hover{ background:#f3f4f6; }
.dh-modal__ftr{ display:flex; justify-content:flex-end; gap:8px; margin-top:10px; }

/* فرم */
.form{ display:flex; flex-direction:column; gap:8px; margin-top:8px; }
.row{ display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:8px; }
:root{
  --line:#e5e7eb; --muted:#f3f4f6; --text:#111827;
  --primary:#2563eb; --success:#16a34a; --danger:#ef4444;
}

/* صفحه و کارت */
.dh-page{ padding:16px; }
.dh-card{
  background:#fff; border:1px solid var(--line);
  border-radius:12px; padding:12px;
}

/* نوار ابزار */
.dh-toolbar{ display:flex; gap:8px; align-items:center; margin-bottom:10px; }

/* سکشن‌ها */
.dh-section{ margin-top:12px; }
.dh-sec-hdr{
  display:flex; align-items:center; gap:8px;
  padding:8px 10px; border:1px dashed var(--line); border-radius:10px; background:#fafafa;
  cursor:pointer;
}
.dh-sec-hdr .muted{ margin-inline-start:4px; }
.chev{ margin-inline-start:auto; color:#6b7280; }

/* جدول */
.table-wrap{ margin-top:8px; overflow:auto; border:1px solid var(--line); border-radius:12px; }
table{ width:100%; border-collapse:separate; border-spacing:0; }
thead th{
  position:sticky; top:0; z-index:1;
  background:#f8fafc; border-bottom:1px solid var(--line);
  text-align:right; font-weight:600; padding:10px; font-size:13px; color:#111827;
}
tbody td{ padding:10px; border-top:1px solid var(--line); font-size:14px; }
tbody tr:hover{ background:#fafafa; }
tbody .empty{ text-align:center; color:#6b7280; padding:16px; }
td.ops{ display:flex; gap:6px; align-items:center; }

/* رنگ وضعیت ردیف */
tbody tr.ok td{ }
tbody tr.need-fix td{ background:#fff7ed; } /* کمی نارنجی کم‌رنگ برای نیاز به تعمیر */

/* جمع زیر هر سکشن */
.sum{ margin-top:6px; font-size:14px; }

/* دکمه‌ها و ورودی‌ها (پایه‌ها در base.css) */
.btn.small{ padding:6px 10px; font-size:13px; }

/* مدال‌ها */
.dh-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.25);
  display:flex; align-items:center; justify-content:center; z-index:1200;
}
.dh-modal{
  width:min(960px, 96vw); max-height:90vh; overflow:auto;
  background:#fff; border:1px solid var(--line); border-radius:12px; padding:10px;
  box-shadow:0 20px 35px rgba(0,0,0,.15);
}
.dh-modal--small{ width:min(520px,92vw); }
.dh-modal__hdr{
  display:flex; align-items:center; justify-content:space-between;
  padding:6px 4px 10px;
}
.dh-close{
  border:0; background:#fff; font-size:18px; cursor:pointer; border-radius:8px; padding:4px 8px;
}
.dh-close:hover{ background:#f3f4f6; }
.dh-modal__ftr{ display:flex; justify-content:flex-end; gap:8px; margin-top:10px; }

/* فرم */
.form{ display:flex; flex-direction:column; gap:8px; margin-top:8px; }
.row{ display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:8px; }

